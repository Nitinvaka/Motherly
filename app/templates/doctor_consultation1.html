{% extends "layout.html" %}

{% block content %}
<div class="doctor-consultation">
    <div class="flex items-center mb-6">
        <a href="/" class="btn btn-ghost mr-2">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
            <span class="ml-2">Find Doctors</span>
        </a>
    </div>

    <h2 class="text-xl font-medium mb-4">Most Searched Cities</h2>
    <div class="flex flex-wrap gap-2 mb-6">
        {% for city in ['New Delhi', 'Hyderabad', 'Chennai', 'Kolkata'] %}
        <button class="btn btn-outline btn-sm rounded-full" onclick="setLocation('{{ city }}')">{{ city }}</button>
        {% endfor %}
    </div>

    <div class="bg-orange-50 rounded-lg p-6 mb-8">
        <div class="flex items-center gap-4 mb-4">
            <div class="flex-shrink-0">
                <img src="/static/uploads/appointment.png" alt="Book appointment" class="w-20 h-20 object-contain">
            </div>
            <h2 class="text-xl font-bold">Book an Appointment in 3 Simple Steps</h2>
        </div>

        <form id="appointment-form" class="space-y-5" onsubmit="handleSubmit(event)">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Preferred Location/Pincode*</label>
                <div class="relative">
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                        <svg class="icon text-gray-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/>
                            <circle cx="12" cy="10" r="3"/>
                        </svg>
                    </div>
                    <input id="location" name="location" placeholder="Search location" class="input pl-10" required>
                    <div class="absolute inset-y-0 right-0 flex items-center pr-3">
                        <button type="button" class="btn btn-ghost h-8 w-8">
                            <svg class="icon h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <circle cx="12" cy="12" r="1"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Select Date*</label>
                <div class="popover">
                    <button type="button" class="btn btn-outline w-full text-left" id="date-trigger">
                        <svg class="icon mr-2 h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                            <line x1="16" y1="2" x2="16" y2="6"/>
                            <line x1="8" y1="2" x2="8" y2="6"/>
                            <line x1="3" y1="10" x2="21" y2="10"/>
                        </svg>
                        <span id="date-display">Today</span>
                    </button>
                    <div class="popover-content hidden" id="calendar">
                        <!-- Calendar will be populated by JavaScript -->
                    </div>
                    <input type="hidden" id="date" name="date" required>
                </div>
            </div>

            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Select Speciality*</label>
                <select id="specialty" name="specialty" class="select" required>
                    <option value="">Enter Speciality</option>
                    {% for specialty in ['Obstetrician', 'Pediatrician', 'Gynecologist', 'Neonatologist', 'Lactation Consultant'] %}
                    <option value="{{ specialty }}">{{ specialty }}</option>
                    {% endfor %}
                </select>
            </div>

            <button type="submit" class="btn btn-primary w-full">Submit</button>
        </form>
    </div>
</div>
{% endblock %}